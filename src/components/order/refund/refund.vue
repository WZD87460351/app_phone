<template>    <div class="main">        <mt-header title="申请退款 ">            <a slot="left" @click="goBack">                <mt-button icon="back"></mt-button>            </a>        </mt-header>        <div class="container">            <ul class="list">                <li class="cell" @click="active(0)">                    <span class="left">处理方式</span>                    <input type="text" v-model="type" class="right" placeholder="处理方式">                </li>                <li class="cell" @click="active(1)">                    <span class="left">退款原因</span>                    <input type="text" v-model="reson" class="right" placeholder="退款原因">                    <!--<div class="mobile"></div>-->                </li>                <li class="cell">                    <span class="left">退款说明</span>                    <input type="text" v-model="text" class="right" placeholder="退款说明">                </li>                <li class="cell">                    <span class="left">退款金额</span>                    <input type="number" class="right" v-model="money" placeholder="退款金额">                </li>            </ul>        </div>        <v-footer>            <div class="btns " @click="goBack">取消退款</div>            <div class="btns" @click="submit">申请退款</div>        </v-footer>        <mt-popup v-model="popupVisible" position="bottom">            <picker-title :title="title" @cancel="toggle" @confirm="toggle"></picker-title>            <mt-picker :slots="slots" @change="onValuesChange"></mt-picker>        </mt-popup>    </div></template><script>    import util from '../../../api/util'    import PickerTitle from '@/components/common/Tabbar/PickerTitle'    import Footer from '@/components/common/Tabbar/Footer'    import { Popup,Picker,Toast  } from 'mint-ui';    export default {        data() {            return {                type : '',                reson: '',                text:'',                money : 0,                image: '',                res:{},                popupVisible:false,                slots:[{                    flex: 1,                    values: ["不想要了","卖家缺货","拍错了/订单信息错误","其它"],                    className: 'slot1',                    textAlign: 'center'                }],                title:'退款原因',                status:0            }        },        methods: {            goBack(){                this.$router.go(-1);            },            init(){                let _this = this;                util.request({                    url: "order.refund",                    data:{                        id: _this.$route.query.id,                    },                    method: "get",                    success(res){                           console.log('退款')                           // console.log(res)                        _this.type= '退款(仅退款不退货)'                        _this.reson= '不想要了'                        _this.res=res.data                        _this.money =res.data.price                        console.log(_this.res)                    }                })            },            onValuesChange(picker, values){                if(this.status === 1){                    this.reson=picker.getSlotValue(0)                }else {                    this.type=picker.getSlotValue(0)                }            },            toggle(){                this.popupVisible = !this.popupVisible            },            active(i){                this.status = i;                if(i === 0 ){                    this.slots[0].values=["退款(仅退款不退货)", "退货退款", "换货"]                }else {                    this.slots[0].values=["不想要了","卖家缺货","拍错了/订单信息错误","其它"]                }                this.toggle()            },            submit(){                const _this=this                util.request({                    url: "order.refund.submit",                    data:{                        id: _this.$route.query.id,                        rtype:0,                        reason: _this.reson,                        content: _this.text,                        price:_this.money                    },                    method: "post",                    success(res){                        console.log('退款成功')                        console.log(res)                        _this.$route.query.a=1                        Toast({                            message: `申请成功`,                            position: 'middle',                            duration: 1000                        });                        setTimeout(_this.goBack(),1000)                    },                    error(err){                        Toast({                            message: `${err.message}`,                            position: 'middle',                            duration: 1000                        });                    }                })            }        },        mounted(){            this.init();        },        components:{            PickerTitle,            vFooter:Footer        }    }</script><style lang="less" scoped>    @import '../../../assets/less/index.less';    .main {        /*background: #f7f7f8 !important;*/        .page-view(100);        .container {            .scroll-view(100%);        }    }    .list {        margin-top: 0.10rem;        overflow: hidden;    }    .cell {        padding: 0rem 0.10rem;        height: 0.5rem;        background: #fff;        border-bottom: 0.01rem solid #F3F4F5;        position: relative;        display: flex;    }    .cell .left {        width: .64rem;        line-height: 0.5rem;        color: #333;        text-align:justify;        font-size: .14rem;        /*text-align-last:justify;*/    }    .cell .right {        flex: 1;        /*margin-left: .2rem;*/        box-sizing: border-box;        /*padding: .1rem 0;*/        margin: .1rem .2rem;        line-height: .28rem;        color: #727272;        font-size: 0.14rem    }    footer {        div {            min-width: .6rem;            background: #EF4F4F;            color: #ffffff;            padding: .04rem .06rem;            border-radius: .04rem;            margin-right: .12rem;        }    }</style>